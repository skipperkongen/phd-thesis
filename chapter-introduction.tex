% !TEX root = ./thesis.tex

A justification for why declarative languages are good for large-scale visualizations: (1) declarative set-at-a-time languages are good for processing large datasets for visualization, because individually manipulating records is not feasible.

\chapter{Introduction}

In this dissertation, we investigate two classes of queries and associated data systems, which are used for designing and serving geographical maps respectively. We investigate query models and systems for \emph{multi-scale spatial data abstraction} (MSDA). Furthermore, we investigage query models and systems for \emph{multi-scale spatial data retrieval} (MSDR).

MSDA queries and systems are in play when people \emph{design} new maps. We investigate the design of easy-to-use MSDA query languages and the implementation of scalable systems for executing MSDA queries.

MSDR queries and systems are in play when users \emph{request} maps online. We investigate the requirements for MSDR queries and the implementation of high availability and high performance systems for executing MSDR queries. 

%Case Study, P1 enables P2, Mention where related work is (which parts/chapters)

% Emphasise map production and map consumption
\section{Motivation}
% Opportunities for users
\emph{Pannable} and \emph{zoomable} geographical maps are important because they allows users to explore large repositories of information at different focal points and levels of abstraction. Furthermore, \emph{web-based} maps enable online users world-wide to gain spatial insights and make spatial decisions on the go. For example, journalists can enrich online articles with digital maps based on the constantly emerging datasets online. Such maps give readers spatial insight into news stories with geographical aspects: the location of troops in a war, the extent of a pollution incident, places worth traveling to, etc. As another example, tourists can use digital maps and location based services (LBS) on mobile devices while exploring an unfamiliar city. Such maps support decision making: finding near-by restaurants, shops, points of interest, etc. Zoomable web maps have have many use cases, e.g. in social media, real-estate, government, science, policing, warfare, health, education and environmental control.

Paragraph that summarizes the challenges. Be consistent about the order of challenges and their order in the thesis in general.

% Challenge 1: too many users
One challenge is encountered during the serving of maps. Today, users of maps have the opportunity to engage maps anytime and anywhere, caused by advances in mobile technology and near-ubiquitous web access in many parts of the world. As a consequence, web-based maps have attracted millions of users who bombard the end-points of spatial data services with a crushing request workload around the clock -- especially during peak hours. To handle this workload there is a need for scalable system architectures for maps. %TODO: Explain the challenges presented to system engineers further... and give some examples.

% Challenge 2: big data
Another challenge is encounted during the production of maps. Everyday, a mass of spatial data is accumulating online~\cite{agrawal2012bigdata}. There is a clear need to visualize much of this data on maps for the reasons mentioned above. However, manually editing maps based on emerging big data is prohibitively time-consuming. Furthermore, relying on GIS specialists to handle the task is expensive at best. What is needed is efficient and effective methods that can be used by non-experts who must perform tasks such as \emph{data abstraction} (e.g. data selection and aggregation)~\cite{haunert2006landcover,schmid2013opensciencemap} and \emph{visual abstraction} (e.g. graphical expression)~\cite{jacques1967semiologie} in order to create useful multi-scale maps~\cite{stolte2003multiscale,weibel1999generalising}. 

A couple of paragraphs that mention what I do to address these challenges.

\section{Requirements for Multi-scale Data Visualization on the Web}
\subsection{Case Study: Danish Geodata Agency}
% authoritative data. consistent data. high-availability. high-performance. standards. cost-effective.
Within the last decade an increasing number of components fulfilling needs of a Spatial Data Infrastructure have been implemented. In Denmark, the National Survey and Cadastre (KMS) has had a leading role in the implementation of Spatial Data Infrastructure components. In 2001, KMS launched its digital map supply including the first view services and has since then implemented an increasing amount of services making geographic data, that KMS is responsible for, available for users via on-line and direct access. Also the amount of requests served by the digital map supply has increased. In 2005 the digital map supply served 23 million requests and in 2010 it served 370 million with a yearly increase ranging from 70\% to 115\%. These numbers demonstrates that there is a sustained need for infrastructure components and that establishing the digital map supply has been a success.

However, the increased amount of served requests has put high demands on the distribution platform of the digital map supply. Currently, the platform consists of more than 40 server instances. In addition there is a growing expectation on performance from the community. INSPIRE [European Commission, 2007] sets out quality of service requirements in the regulation on INSPIRE Network Services [European Commission, 2009]. But perhaps more demanding is users’ expectation. The appearance of e.g., Google and Bing Maps, have set new standards for how fast a map is expected to be rendered and shown to the user.

\subsection{Visualization Requirements}
% toepfer, constant info dens. metrics
% ref: toepher, woodruff, iOS 6, sarma, bereuter, weibel

\subsection{System Requirements}
% high-availability (basically no down-time), high-performance, scalable

\subsection{Usability Requirements}
% non-expert usage, time-efficient, effective
% ref: HOWTO, DATA ENTHUSIASTS

\section{Research Gaps}
\subsection{User-programmable Data Abstraction}
\subsection{In-database Processing}
\subsection{Prediction of Query Workloads}


% abstraction: usable by non-experts, programmability, unifying data abstraction across domains (addressed by CVL2)
% Vector Tiles: prediction

\section{Contributions}
\subsection{Declarative Cartography: In-Database Map Generalization of Spatial Datasets}
\subsection{Declarative Multi-scale Abstraction of Large Graphs}
\subsection{TileHeat: A Framework For Tile Selection}
%\subsection{Design of Declarative Languages for Multi-scale Selection of Relational Data}
%\subsection{Compilers for Multi-scale Selection Languages}
%\subsection{Prediction and Tile Selection for Geospatial Workloads}
\subsection{Publications}

\section{Structure of this Dissertation}
